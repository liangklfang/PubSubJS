<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>iframe demo frame 1</title>
		<script src="pubsub-bridge.js"></script>
		<script src="../src/pubsub.js"></script>
		<script>
			// create a subscriber to receive all topics from a hierarchy of topics
			var myToplevelSubscriber = function( msg, data ){
			    console.log( 'top level: ', msg, data );
			}

			// subscribe to all topics in the 'car' hierarchy
			PubSub.subscribe( 'car', myToplevelSubscriber );

			// create a subscriber to receive only leaf topic from hierarchy op topics
			var mySpecificSubscriber = function( msg, data ){
			    console.log('specific: ', msg, data );
			}

			// subscribe only to 'car.drive' topics
			PubSub.subscribe( 'car.drive', mySpecificSubscriber );

			// Publish some topics
			PubSub.publish( 'car.purchase', { name : 'my new car' } );
			PubSub.publish( 'car.drive', { speed : '14' } );
			PubSub.publish( 'car.sell', { newOwner : 'someone else' } );

			// In this scenario, myToplevelSubscriber will be called for all
			// topics, three times in total
			// But, mySpecificSubscriber will only be called once, as it only
			// subscribes to the 'car.drive' topic
		</script>
	</head>
	<body>
		<p>frame1.html</p>
		<button id="publish-thing">Test</button>
	</body>
</html>